# Example usage of the Light SDK

## Setup

```rust
let CHAIN_ID = "shielded-expedition.88f17d1d14";
let tendermint_addr = "http://localhost:26657";
```

## Transactions

### Transfer

```rust
let source_address = namada_light_sdk::namada_sdk::address::Address::from_str("tnam1v4ehgw36xq6ngs3ng5crvdpngg6yvsecx4znjdfegyurgwzzx4pyywfexuuyys69gc6rzdfnryrntx").unwrap(); // replace with a valid source address
let target_address = namada_light_sdk::namada_sdk::address::Address::from_str("tnam1v4ehgw36xq6ngs3ng5crvdpngg6yvsecx4znjdfegyurgwzzx4pyywfexuuyys69gc6rzdfnryrntx").unwrap(); // replace with a valid target address
let token_address = namada_light_sdk::reading::blocking::query_native_token(tendermint_addr).unwrap();
let amount = namada_light_sdk::namada_sdk::token::DenominatedAmount::from_str("10000").unwrap();
// Construct the raw transaction struct
let transfer = Transfer::new(
        source_address,
        target_address,
        token_address,
        amount,
        None,
        None,
        global_args
    );
// In order to broadcast the transaction, it must be signed. This is difficult at the moment and more docs will be provided soon.
// For now, the below code can be replicated.
let targets = vec![transfer.payload().raw_header_hash()];
let mut secret_keys = BTreeMap::new();
secret_keys.insert(0, secret_key);

let signer_pub_key = secret_key.to_public();
let signer_address = namada_light_sdk::namada_sdk::address::Address::from(signer_pub_key);

let signature = namada_light_sdk::namada_sdk::tx::Signature::new(targets, secret_keys, Some(signer_address));

transfer = transfer.attach_signatures(signer_pub_key, signature);
let fee = namada_light_sdk::namada_sdk::token::DenominatedAmount::from_str("10").unwrap();
let gas_limit = namada_light_sdk::namada_sdk::tx::data::GasLimit::from_str("20000").unwrap();

transfer = transfer.attach_fee(fee, amount, signer_pub_key, epoch, gas_limit);
let fee_targets = vec![transfer.payload().sechashes()];
let fee_signature = namada_light_sdk::namada_sdk::tx::Signature::new(targets, secret_keys, Some(signer_address));
transfer = transfer.attach_fee_signature(signer, signature);

// Once signed and the fee_payer and signature is added, the payload can be retrieved and broadcasted
let transfer_tx = transfer.payload()
let response = namada_light_sdk::writing::blocking::broadcast_tx(tendermint_addr, transfer_tx).unwrap();
```

